!function(a){function b(a,b,d,e){for(var f=document.querySelectorAll(a),g=0;g<f.length;g++){var h=f[g],i=function(b){c(document.querySelectorAll(a+" "+d),b.target,e,f[g])};void 0===k[h]&&(k[h]={}),void 0===k[h][b]&&(k[h][b]=[]),k[h][b].push(i),f[g].addEventListener(b,i)}}function c(a,b,c,d){for(var e=0;e<a.length;e++){for(var f=a[e],g=b;g!==f&&g!==d&&g!==document.body;)g=g.parentNode;if(g===f){c.call(f,event);break}}}function d(a,b,c){for(var d=document.querySelectorAll(a),e=void 0===c,f=0;f<d.length;f++){var g=d[f];if(k[g]&&k[g][b])if(e){for(var h=0;h<k[g][b].length;h++)g.removeEventListener(b,k[g][b][h]);k[g][b]=[]}else{var i=k[g][b].indexOf(c);i>-1&&(g.removeEventListener(b,c),k[g][b].splice(i,1))}}}function e(a,b,c){var d=document.createElement("div"),e=f(a,void 0===c?b:c(b));return d.innerHTML=e,d.firstChild}function f(a,b){return a.replace(/\{(\w+)\}/gi,function(a,c){return void 0!==b[c]?b[c]:a})}function g(a,b,c){var d=new XMLHttpRequest;b=b||{},a=h(a,b),d.onreadystatechange=function(){if(d&&d.readyState===XMLHttpRequest.DONE){var a={};if(200===d.status)try{a.results=JSON.parse(d.responseText)}catch(b){a.error="Unable to parse JSON. Response is likely malformed. "+b.toString()}else a.error="Unable to complete api request. An error has occurred. "+d.statusText;c(a)}},d.open("GET",a),d.send()}function h(a,b){var c="";for(var d in b)c+="&"+d+"="+b[d];return a+c}function i(a,b){-1===a.className.indexOf(b)&&(a.className=a.className+" "+b)}function j(a,b){a.className.indexOf(b)>-1&&(a.className=a.className.replace(b," ").trim())}var k={};a.off=d,a.on=b,a.createElementFromTemplate=e,a.retrieveAPIResults=g,a.addClassToNode=i,a.removeClassFromNode=j}(window),function(a){function b(){c(),d()}function c(){var a=document.querySelector("."+B);a||(a=document.createElement("div"),a.className=B,document.body.appendChild(a))}function d(){if(!document.querySelector("."+C)){var a=createElementFromTemplate(M,{lightboxClassName:C,lightboxExitClassName:D,currentImageContainerClassName:E,groupImageContainerClassName:F,previousGroupImageTriggerClassName:J,nextGroupImageTriggerClassName:K,currentImageDescriptionClassName:L});document.body.appendChild(a);var b=document.querySelector("."+D);b.removeEventListener("click",e),b.addEventListener("click",e);var c=document.querySelector("."+J),d=document.querySelector("."+K);c.removeEventListener("click",i),c.addEventListener("click",i),d.removeEventListener("click",j),d.addEventListener("click",j)}}function e(){o()}function f(a){p(document.querySelector("."+B))&&(27===a.keyCode&&o(),37===a.keyCode&&g(),39===a.keyCode&&h())}function g(){var a=w();a&&y(a)}function h(){var a=v();a&&y(a)}function i(){var a=w();a&&y(a)}function j(){var a=v();a&&y(a)}function k(a){a.preventDefault(),m(),n(),x(this)}function l(){y(this)}function m(){var a=document.querySelector("."+B);document.body.style.overflowY="hidden",removeClassFromNode(a,"fadeOut"),addClassToNode(a,"fadeIn")}function n(){document.querySelector("."+C).style.top=0}function o(){var a=document.querySelector("."+B),b=document.querySelector("."+C);removeClassFromNode(a,"fadeIn"),addClassToNode(a,"fadeOut"),b.style.top="-100%",document.body.style.overflowY="auto"}function p(a){return!!(a.offsetWidth||a.offsetHeight||a.getClientRects().length)}function q(){var a="."+F+" > ."+H;return document.querySelectorAll(a)}function r(){var a="."+E+" ."+G;return document.querySelector(a)}function s(){var a="."+C+" ."+E;return document.querySelector(a)}function t(){var a="."+C+" ."+F;return document.querySelector(a)}function u(){var a="."+C+" ."+L;return document.querySelector(a)}function v(){for(var a=q(),b=r(),c=-1,d=0;d<a.length;d++)a[d].firstChild.getAttribute("src")===b.getAttribute("src")&&(c=d);return c>-1&&a.length>c?a[c+1]:void 0}function w(){for(var a=q(),b=r(),c=-1,d=0;d<a.length;d++)a[d].firstChild.getAttribute("src")===b.getAttribute("src")&&(c=d);return c>-1&&c>0?a[c-1]:void 0}function x(a){z(a),A(a)}function y(a){for(var b=q(),c=r(),d=u(),e=document.querySelector("."+C),f=a.firstChild.getAttribute("desc"),g=0;g<b.length;g++){var h=b[g];removeClassFromNode(h,I),h===a&&(addClassToNode(a,I),c.setAttribute("src",h.firstChild.getAttribute("src")),d.innerText=f,e.scrollTop=0)}}function z(a){var b=a.getAttribute("original-src"),c=a.getAttribute("desc"),d=createElementFromTemplate(N,{currentImageClassName:G,src:b}),e=s(),f=u();r()&&e.removeChild(r()),f.innerText=c,e.appendChild(d)}function A(a){var b=a.getAttribute("data-lightbox-group"),c=P[b],d=t();if(off("."+F,"click","."+H,l),d.innerHTML="",!(c.length<2)){for(var e=0;e<c.length;e++){var f=c[e],g=f.getAttribute("original-src"),h=f.getAttribute("desc"),i=createElementFromTemplate(O,{imageGroupClassName:H,src:g,desc:h});g===a.getAttribute("original-src")&&addClassToNode(i,I),d.appendChild(i)}on("."+F,"click","."+H,l)}}var B="lightbox-overlay",C="lightbox-main",D="lightbox-close",E="lightbox-image-container",F="lightbox-group-container",G="lightbox-image-current",H="lightbox-group-image",I="lightbox-group-image__current",J="lightbox-previous-image",K="lightbox-next-image",L="lightbox-image-current-desc",M="<div class={lightboxClassName}><div class={lightboxExitClassName}>X</div><div class={currentImageContainerClassName}><div class={previousGroupImageTriggerClassName}><span></span></div><div class={nextGroupImageTriggerClassName}><span></span></div></div><div class={currentImageDescriptionClassName}></div><ul class={groupImageContainerClassName}></ul></div>",N="<img class={currentImageClassName} src={src} alt={text} />",O="<li class={imageGroupClassName} ><img src={src} alt={text} desc={desc} /></li>";a.lightbox&&(a._lightbox=a.lightbox);var P,Q=function(a){var c=0,d=document.querySelectorAll("[data-lightbox]");P={};for(var e=0;e<d.length;e++){var g=d[e];if(void 0!==g.attributes["data-lightbox-group"]&&void 0!==g.attributes["data-lightbox-group"].nodeValue){var h=g.attributes["data-lightbox-group"].nodeValue;void 0===P[h]&&(P[h]=[]),P[h].push(g)}}for(var i=0;i<d.length;i++){var g=d[i];if(void 0===g.attributes["data-lightbox-group"]){for(;c in P;)++c;g.setAttribute("data-lightbox-group",c),void 0===P[c]&&(P[c]=[]),P[c].push(g)}}off("body","click"),document.body.removeEventListener("keydown",f),on("body","click","[data-lightbox]",k),document.body.addEventListener("keydown",f),b()};a.lightbox={init:Q}}(window);